# Generated by devtools/yamaker (pypi).

PY3_LIBRARY()

VERSION(3.2.2)

LICENSE(Apache-2.0)

PEERDIR(
    contrib/python/cffi
)

ADDINCL(
    contrib/python/bcrypt/py3/_csrc
)

NO_COMPILER_WARNINGS()

NO_LINT()

SRCS(
    _csrc/bcrypt.c
    _csrc/bcrypt_pbkdf.c
    _csrc/blf.c
    _csrc/sha2.c
    _csrc/timingsafe_bcmp.c
)

PY_REGISTER(
    bcrypt._bcrypt
)

PY_SRCS(
    TOP_LEVEL
    bcrypt/__about__.py
    bcrypt/__init__.py
    bcrypt/_bcrypt.pyi
)

RUN_PROGRAM(
    contrib/python/cffi/py3/gen build_bcrypt.py:ffi bcrypt._bcrypt.cffi.py3.c
    IN build_bcrypt.py
    OUT bcrypt._bcrypt.cffi.py3.c
    OUTPUT_INCLUDES pycabcrypt.h
)

RESOURCE_FILES(
    PREFIX contrib/python/bcrypt/py3/
    .dist-info/METADATA
    .dist-info/top_level.txt
    bcrypt/py.typed
)

END()

RECURSE_FOR_TESTS(
    tests
)
